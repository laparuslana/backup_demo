<!DOCTYPE html>
<html lang="en">
<head>
    <title>Reset Password</title>
</head>
<body>
<h2>Reset Your Password</h2>
<input type="password" id="newPassword" placeholder="New Password">
<button onclick="resetPassword()">Submit</button>

<script>
    function resetPassword() {
        let params = new URLSearchParams(window.location.search);
        let token = params.get("token");
        let newPassword = document.getElementById("newPassword").value;

        fetch(`/req/login/reset-password?token=${token}&newPassword=${newPassword}`, {
            method: "POST"
        })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
                if (data.message.includes("successfully")) {
                    window.location.href = "/login";
                }
            })
            .catch(error => console.error("Error resetting password:", error));
    }
</script>

</body>
</html>
